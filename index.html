<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  <title>もじゅゲーム</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <canvas id="gameCanvas"></canvas>

  <div id="homeScreen" class="overlay">
    <h1 class="title">もじゅのだいぼうけん</h1>
    <p class="explanation">もじゅが好きなものを取ると加点され、苦手なものはダメージを受けます。<br>もじゅはかわいいものが好きで、かっこいいものは苦手です。<br>回復アイテムもあるよ。</p>
    <div class="difficulty">
      <label>難易度:</label>
      <select id="difficultySelect">
        <option value="easy">かんたん</option>
        <option value="normal" selected>ふつう</option>
        <option value="hard">むずかしい</option>
        <option value="endless">エンドレス</option>
      </select>
    </div>
    <p id="highScoreDisplay" class="high-score"></p>
    <div id="debugSpawnRow" class="debug-only">
      <label for="spawnMultiplier">出現頻度:</label>
      <input type="number" id="spawnMultiplier" min="1" max="100" value="5" step="1">
      <span>倍</span>
    </div>
    <button id="startBtn" class="btn">冒険に出発！</button>
    <span class="version">v0.1.4</span>
  </div>

  <div id="completionScreen" class="overlay hidden">
    <h2 class="completion-title">おめでとう、これであなたはもじゅマスターです！！</h2>
    <p id="completionStats" class="completion-stats"></p>
    <button id="homeBtn" class="btn">ホームに戻る</button>
  </div>

  <button id="quitGameBtn" class="quit-game-btn hidden">ゲームをやめる</button>
  <button id="pauseBtn" class="pause-btn hidden">一時停止</button>

  <div id="pauseScreen" class="overlay hidden">
    <h2 class="pause-title">一時停止</h2>
    <button id="resumeBtn" class="btn">続ける</button>
  </div>

  <div id="gameOverScreen" class="overlay hidden">
    <h2 class="gameover-title">ゲームオーバー</h2>
    <p class="gameover-sub">ライフがゼロになりました</p>
    <p id="gameOverStats" class="gameover-stats"></p>
    <button id="retryBtn" class="btn">ホームに戻る</button>
  </div>

  <script>
    window.DEBUG_MODE = /[?&]debug=(1|true)/i.test(location.search);
    if (window.DEBUG_MODE) document.body.classList.add('debug-mode');
  </script>
  <script src="js/data/config.js"></script>
  <script src="js/data/characters.js"></script>
  <script src="js/data/items.js"></script>
  <script src="js/game.js"></script>
  <script src="js/effects.js"></script>
  <script src="js/character.js"></script>
  <script src="js/item.js"></script>
  <script src="js/main.js"></script>
</body>
</html>
